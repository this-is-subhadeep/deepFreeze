<mat-expansion-panel name='expansionPanel' #expansionPanel>
  <mat-expansion-panel-header class='vendor-panel-header'>
    <mat-panel-title>
      {{vendor.name}}
    </mat-panel-title>
    <mat-panel-description>
      {{getFormattedtotalLoan(vendor)}}
    </mat-panel-description>
  </mat-expansion-panel-header>
  <form [formGroup]='venForm' (ngSubmit)='onUpdate(expansionPanel)'>
    <mat-form-field *ngIf='editable'>
      <input matInput formControlName='name' name='name' placeholder='Vendor Name'>
      <mat-error *ngIf='venForm.get("name").errors && venForm.get("name").errors.required'>
        Please enter a Vendor Name !!
      </mat-error>
    </mat-form-field>

    <mat-form-field>
      <input matInput type='number' formControlName='loanAdded' name='loanAdded' placeholder='Loan +'>
      <mat-error *ngIf='venForm.get("loanAdded").errors'>
        Loan Amount is not of currency format
      </mat-error>
    </mat-form-field>

    <mat-form-field>
      <input matInput type='number' formControlName='loanPayed' name='loanPayed' placeholder='Loan -'>
      <mat-error *ngIf='venForm.get("loanPayed").errors'>
        Payed Amount is not of currency format
      </mat-error>
    </mat-form-field>

    <mat-form-field>
      <input matInput type='number' formControlName='openingDp' name='openingDp' placeholder='Opening DP'>
      <mat-error *ngIf='venForm.get("openingDp").errors'>
        Opening DP is not of currency format
      </mat-error>
    </mat-form-field>

    <mat-form-field>
      <input matInput type='number' formControlName='deposit' name='deposit' placeholder='Deposit'>
      <mat-error *ngIf='venForm.get("openingDp").errors'>
        Deposit is not of currency format
      </mat-error>
    </mat-form-field>

    <mat-form-field>
      <textarea matInput type='text' formControlName='remarks' name='remarks' placeholder='Remarks'></textarea>
    </mat-form-field>

    <mat-action-row>
      <button mat-raised-button type='submit' color='primary' [disabled]='!venForm.touched || venForm.invalid'>
        Update
      </button>
    </mat-action-row>
  </form>
</mat-expansion-panel>